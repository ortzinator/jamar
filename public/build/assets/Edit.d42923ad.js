import{r as y,v as q,x as T,k as $,p as A,F as j,o as I,C as te,s as ee,q as z,y as de,N as Ve,Y as Le,z as Ie,b as w,c as k,d as n,t as S,i as L,T as _e,f as v,w as C,u as d,e as we,E as xe,Q as He,g as F,U as Ne,l as Ue,a as pe}from"./app.a9a24307.js";import{s as fe,_ as qe,a as Me,b as ze,c as We}from"./JamarCurrencyTextBox.17228410.js";import{g as Ge,h as W,P as E,H as U,o as M,i as oe,L as Z,j as Ye,u as X,p as Qe,l as me,t as G,T as Je,R as ve,f as Ke,A as Xe}from"./AppLayout.47877c4a.js";import{_ as Ze}from"./LoadingButton.0ff34443.js";import{_ as N}from"./InputLabel.9961a68e.js";import{a as le,_ as et}from"./TextInput.2def3c86.js";import{_ as tt}from"./plugin-vue_export-helper.21dcd24c.js";import{m as se,p as ae}from"./hidden.f4ce270a.js";import{P as ot,S as Ao}from"./description.ed22715d.js";import{_ as ye}from"./ConfirmationModal.3030223a.js";import{_ as lt}from"./DialogModal.b2084a17.js";import{r as st}from"./TrashIcon.aa6a6f5c.js";import{r as at}from"./ExclamationIcon.2e27bec1.js";import"./Modal.146114d2.js";var ne=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ne||{});function nt(){let e=y(0);return Ge("keydown",o=>{o.key==="Tab"&&(e.value=o.shiftKey?1:0)}),e}function $e(e,o,t,s){typeof window!="undefined"&&q(a=>{e=e!=null?e:window,e.addEventListener(o,t,s),a(()=>e.removeEventListener(o,t,s))})}var ke=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(ke||{});let H=Object.assign(T({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:Object,default:y(new Set)}},inheritAttrs:!1,setup(e,{attrs:o,slots:t,expose:s}){let a=y(null);s({el:a,$el:a});let l=$(()=>W(a));rt({ownerDocument:l},$(()=>Boolean(e.features&16)));let r=it({ownerDocument:l,container:a,initialFocus:$(()=>e.initialFocus)},$(()=>Boolean(e.features&2)));ut({ownerDocument:l,container:a,containers:e.containers,previousActiveElement:r},$(()=>Boolean(e.features&8)));let u=nt();function f(){let p=M(a);!p||X(u.value,{[ne.Forwards]:()=>oe(p,Z.First),[ne.Backwards]:()=>oe(p,Z.Last)})}return()=>{let p={},g={ref:a},{features:m,initialFocus:b,containers:i,...D}=e;return A(j,[Boolean(m&4)&&A(se,{as:"button",type:"button",onFocus:f,features:ae.Focusable}),E({ourProps:g,theirProps:{...o,...D},slot:p,attrs:o,slots:t,name:"FocusTrap"}),Boolean(m&4)&&A(se,{as:"button",type:"button",onFocus:f,features:ae.Focusable})])}}}),{features:ke});function rt({ownerDocument:e},o){let t=y(null),s={value:!1};I(()=>{te(o,(a,l)=>{var r;a!==l&&(!o.value||(s.value=!0,t.value||(t.value=(r=e.value)==null?void 0:r.activeElement)))},{immediate:!0}),te(o,(a,l,r)=>{a!==l&&(!o.value||r(()=>{s.value!==!1&&(s.value=!1,U(t.value),t.value=null)}))},{immediate:!0})})}function it({ownerDocument:e,container:o,initialFocus:t},s){let a=y(null);return I(()=>{te([o,t,s],(l,r)=>{if(l.every((f,p)=>(r==null?void 0:r[p])===f)||!s.value)return;let u=M(o);!u||requestAnimationFrame(()=>{var f,p;let g=M(t),m=(f=e.value)==null?void 0:f.activeElement;if(g){if(g===m){a.value=m;return}}else if(u.contains(m)){a.value=m;return}g?U(g):oe(u,Z.First|Z.NoScroll)===Ye.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.value=(p=e.value)==null?void 0:p.activeElement})},{immediate:!0,flush:"post"})}),a}function ut({ownerDocument:e,container:o,containers:t,previousActiveElement:s},a){var l;$e((l=e.value)==null?void 0:l.defaultView,"focus",r=>{if(!a.value)return;let u=new Set(t==null?void 0:t.value);u.add(o);let f=s.value;if(!f)return;let p=r.target;p&&p instanceof HTMLElement?dt(u,p)?(s.value=p,U(p)):(r.preventDefault(),r.stopPropagation(),U(f)):U(s.value)},!0)}function dt(e,o){var t;for(let s of e)if((t=s.value)!=null&&t.contains(o))return!0;return!1}let he="body > *",V=new Set,O=new Map;function be(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function ge(e){let o=O.get(e);!o||(o["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",o["aria-hidden"]),e.inert=o.inert)}function ct(e,o=y(!0)){q(t=>{if(!o.value||!e.value)return;let s=e.value,a=W(s);if(a){V.add(s);for(let l of O.keys())l.contains(s)&&(ge(l),O.delete(l));a.querySelectorAll(he).forEach(l=>{if(l instanceof HTMLElement){for(let r of V)if(l.contains(r))return;V.size===1&&(O.set(l,{"aria-hidden":l.getAttribute("aria-hidden"),inert:l.inert}),be(l))}}),t(()=>{if(V.delete(s),V.size>0)a.querySelectorAll(he).forEach(l=>{if(l instanceof HTMLElement&&!O.has(l)){for(let r of V)if(l.contains(r))return;O.set(l,{"aria-hidden":l.getAttribute("aria-hidden"),inert:l.inert}),be(l)}});else for(let l of O.keys())ge(l),O.delete(l)})}})}let Pe=Symbol("ForcePortalRootContext");function pt(){return z(Pe,!1)}let re=T({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:o,attrs:t}){return ee(Pe,e.force),()=>{let{force:s,...a}=e;return E({theirProps:a,ourProps:{},slot:{},slots:o,attrs:t,name:"ForcePortalRoot"})}}});function ft(e){let o=W(e);if(!o){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let t=o.getElementById("headlessui-portal-root");if(t)return t;let s=o.createElement("div");return s.setAttribute("id","headlessui-portal-root"),o.body.appendChild(s)}let Ce=T({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:o,attrs:t}){let s=y(null),a=$(()=>W(s)),l=pt(),r=z(De,null),u=y(l===!0||r==null?ft(s.value):r.resolveTarget());return q(()=>{l||r!=null&&(u.value=r.resolveTarget())}),de(()=>{var f,p;let g=(f=a.value)==null?void 0:f.getElementById("headlessui-portal-root");!g||u.value===g&&u.value.children.length<=0&&((p=u.value.parentElement)==null||p.removeChild(u.value))}),()=>{if(u.value===null)return null;let f={ref:s,"data-headlessui-portal":""};return A(Ve,{to:u.value},E({ourProps:f,theirProps:e,slot:{},attrs:t,slots:o,name:"Portal"}))}}}),De=Symbol("PortalGroupContext"),mt=T({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:o,slots:t}){let s=Le({resolveTarget(){return e.target}});return ee(De,s),()=>{let{target:a,...l}=e;return E({theirProps:l,ourProps:{},slot:{},attrs:o,slots:t,name:"PortalGroup"})}}}),Ae=Symbol("StackContext");var ie=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(ie||{});function vt(){return z(Ae,()=>{})}function yt({type:e,element:o,onUpdate:t}){let s=vt();function a(...l){t==null||t(...l),s(...l)}I(()=>{a(0,e,o),de(()=>{a(1,e,o)})}),ee(Ae,a)}var ht=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ht||{});let ue=Symbol("DialogContext");function Y(e){let o=z(ue,null);if(o===null){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Y),t}return o}let K="DC8F892D-2EBD-447C-A4C8-A03058436FF4",bt=T({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:K},initialFocus:{type:Object,default:null}},emits:{close:e=>!0},setup(e,{emit:o,attrs:t,slots:s,expose:a}){var l;let r=y(!1);I(()=>{r.value=!0});let u=y(0),f=Qe(),p=$(()=>e.open===K&&f!==null?X(f.value,{[me.Open]:!0,[me.Closed]:!1}):e.open),g=y(new Set),m=y(null),b=y(null),i=$(()=>W(m));if(a({el:m,$el:m}),!(e.open!==K||f!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof p.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${p.value===K?void 0:e.open}`);let D=$(()=>r.value&&p.value?0:1),Q=$(()=>D.value===0),c=$(()=>u.value>1),Fe=z(ue,null)!==null,Se=$(()=>c.value?"parent":"leaf");ct(m,$(()=>c.value?Q.value:!1)),yt({type:"Dialog",element:m,onUpdate:(h,P,x)=>{if(P==="Dialog")return X(h,{[ie.Add](){g.value.add(x),u.value+=1},[ie.Remove](){g.value.delete(x),u.value-=1}})}});let Te=ot({name:"DialogDescription",slot:$(()=>({open:p.value}))}),Ee=`headlessui-dialog-${G()}`,J=y(null),B={titleId:J,panelRef:y(null),dialogState:D,setTitleId(h){J.value!==h&&(J.value=h)},close(){o("close",!1)}};return ee(ue,B),Je(()=>{var h,P,x;return[...Array.from((P=(h=i.value)==null?void 0:h.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?P:[]).filter(_=>!(!(_ instanceof HTMLElement)||_.contains(M(b))||B.panelRef.value&&_.contains(B.panelRef.value))),(x=B.panelRef.value)!=null?x:m.value]},(h,P)=>{B.close(),Ie(()=>P==null?void 0:P.focus())},$(()=>D.value===0&&!c.value)),$e((l=i.value)==null?void 0:l.defaultView,"keydown",h=>{h.defaultPrevented||h.key===Ke.Escape&&D.value===0&&(c.value||(h.preventDefault(),h.stopPropagation(),B.close()))}),q(h=>{var P;if(D.value!==0||Fe)return;let x=i.value;if(!x)return;let _=x==null?void 0:x.documentElement,R=(P=x.defaultView)!=null?P:window,Re=_.style.overflow,Oe=_.style.paddingRight,ce=R.innerWidth-_.clientWidth;if(_.style.overflow="hidden",ce>0){let je=_.clientWidth-_.offsetWidth,Be=ce-je;_.style.paddingRight=`${Be}px`}h(()=>{_.style.overflow=Re,_.style.paddingRight=Oe})}),q(h=>{if(D.value!==0)return;let P=M(m);if(!P)return;let x=new IntersectionObserver(_=>{for(let R of _)R.boundingClientRect.x===0&&R.boundingClientRect.y===0&&R.boundingClientRect.width===0&&R.boundingClientRect.height===0&&B.close()});x.observe(P),h(()=>x.disconnect())}),()=>{let h={...t,ref:m,id:Ee,role:"dialog","aria-modal":D.value===0?!0:void 0,"aria-labelledby":J.value,"aria-describedby":Te.value},{open:P,initialFocus:x,..._}=e,R={open:D.value===0};return A(re,{force:!0},()=>[A(Ce,()=>A(mt,{target:m.value},()=>A(re,{force:!1},()=>A(H,{initialFocus:x,containers:g,features:Q.value?X(Se.value,{parent:H.features.RestoreFocus,leaf:H.features.All&~H.features.FocusLock}):H.features.None},()=>E({ourProps:h,theirProps:_,slot:R,attrs:t,slots:s,visible:D.value===0,features:ve.RenderStrategy|ve.Static,name:"Dialog"}))))),A(se,{features:ae.Hidden,ref:b})])}}}),gt=T({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:o,slots:t}){let s=Y("DialogOverlay"),a=`headlessui-dialog-overlay-${G()}`;function l(r){r.target===r.currentTarget&&(r.preventDefault(),r.stopPropagation(),s.close())}return()=>E({ourProps:{id:a,"aria-hidden":!0,onClick:l},theirProps:e,slot:{open:s.dialogState.value===0},attrs:o,slots:t,name:"DialogOverlay"})}});T({name:"DialogBackdrop",props:{as:{type:[Object,String],default:"div"}},inheritAttrs:!1,setup(e,{attrs:o,slots:t,expose:s}){let a=Y("DialogBackdrop"),l=`headlessui-dialog-backdrop-${G()}`,r=y(null);return s({el:r,$el:r}),I(()=>{if(a.panelRef.value===null)throw new Error("A <DialogBackdrop /> component is being used, but a <DialogPanel /> component is missing.")}),()=>{let u=e,f={id:l,ref:r,"aria-hidden":!0};return A(re,{force:!0},()=>A(Ce,()=>E({ourProps:f,theirProps:{...o,...u},slot:{open:a.dialogState.value===0},attrs:o,slots:t,name:"DialogBackdrop"})))}}});T({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:o,slots:t,expose:s}){let a=Y("DialogPanel"),l=`headlessui-dialog-panel-${G()}`;s({el:a.panelRef,$el:a.panelRef});function r(u){u.stopPropagation()}return()=>{let u={id:l,ref:a.panelRef,onClick:r};return E({ourProps:u,theirProps:e,slot:{open:a.dialogState.value===0},attrs:o,slots:t,name:"DialogPanel"})}}});let _t=T({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"}},setup(e,{attrs:o,slots:t}){let s=Y("DialogTitle"),a=`headlessui-dialog-title-${G()}`;return I(()=>{s.setTitleId(a),de(()=>s.setTitleId(null))}),()=>E({ourProps:{id:a},theirProps:e,slot:{open:s.dialogState.value===0},attrs:o,slots:t,name:"DialogTitle"})}});const wt={props:{history:{type:Object,required:!0}}},xt={class:"border-t"},$t=n("td",{class:"px-2 italic font-bold border-t"},"Policy created",-1),kt={class:"border-t"},Pt={class:"border-t"},Ct=n("td",{class:"px-2 italic font-bold border-t"},"Policy updated",-1),Dt={class:"border-t"},At={class:"border-t"},Ft={class:"px-2 border-t"},St={class:"border-t"};function Tt(e,o,t,s,a,l){return t.history.event_type==="policy_created"?(w(),k(j,{key:0},[n("td",xt,S(t.history.created_at),1),$t,n("td",kt,S(t.history.user_name),1)],64)):t.history.event_type==="policy_updated"?(w(),k(j,{key:1},[n("td",Pt,S(t.history.created_at),1),Ct,n("td",Dt,S(t.history.user_name),1)],64)):t.history.event_type==="note"?(w(),k(j,{key:2},[n("td",At,S(t.history.created_at),1),n("td",Ft,S(t.history.message),1),n("td",St,S(t.history.user_name),1)],64)):L("",!0)}var Et=tt(wt,[["render",Tt]]);const Rt={class:"flex items-center justify-center min-h-screen"},Ot={class:"relative flex flex-col w-full h-screen bg-white md:h-[80vh] md:w-5/6 md:rounded md:shadow-2xl"},jt=F(" History of Facts "),Bt={class:"mx-2 my-4 overflow-y-scroll grow md:max-h-96 md:mx-7 md:my-5"},Vt={key:0,class:"w-full font-mono text-xs table-fixed"},Lt=n("tr",null,[n("th",{scope:"col",class:"w-2/12"},"Date"),n("th",{scope:"col",class:"w-6/12"},"Message"),n("th",{scope:"col",class:"w-2/12"},"Agent")],-1),It={key:1},Ht={class:"mx-2 my-4 md:mx-7 md:my-5"},Nt={__name:"HistoryModal",props:{policy:{type:Object,required:!0}},setup(e){const o=e,t=y(!1),s=y([]),a=y(!1);let l=null;const r=_e({message:"",policy_id:o.policy.id,event_type:"note"});function u(){l&&l.cancel(),l=axios.CancelToken.source(),a.value=!0,axios.get(route("histories.index"),{cancelToken:l.token,params:{"filter[policy_id]":o.policy.id}}).then(m=>{m&&(s.value=m.data,a.value=!1,l=null)})}function f(m){t.value=m,m&&u()}function p(){r.post("/histories",{onSuccess:()=>{r.reset(),u()}})}function g(){r.reset(),f(!1)}return(m,b)=>(w(),k(j,null,[n("button",{class:"ml-auto btn btn-secondary",onClick:b[0]||(b[0]=i=>f(!0))},"History of facts"),v(d(bt),{as:"div",class:"fixed inset-0 z-10 overflow-y-auto md:py-5",open:t.value,onClose:f},{default:C(()=>[n("div",Rt,[v(d(gt),{class:"fixed inset-0 bg-black opacity-30"}),n("div",Ot,[v(d(_t),{class:"mx-2 my-4 md:mx-7 md:my-5"},{default:C(()=>[jt]),_:1}),n("div",Bt,[s.value.length>0?(w(),k("table",Vt,[Lt,(w(!0),k(j,null,we(s.value,i=>(w(),k("tr",{key:i.id},[v(Et,{history:i},null,8,["history"])]))),128))])):(w(),k("p",It,"There is no history for this policy"))]),n("div",Ht,[v(N,{for:"message",value:"Message"}),xe(n("textarea",{id:"address","onUpdate:modelValue":b[1]||(b[1]=i=>d(r).message=i),name:"address",class:"block w-full",rows:"2"},null,512),[[He,d(r).message]]),v(le,{message:d(r).errors.message},null,8,["message"])]),n("div",{class:"px-4 py-3 mt-auto bg-cool-grey-100 md:mt-0 sm:flex sm:flex-row-reverse sm:px-6"},[n("button",{class:"btn",onClick:g},"Close"),n("button",{class:"btn btn-primary",onClick:p},"Add")])])])]),_:1},8,["open"])],64))}},Ut={class:"py-5 font-bold"},qt=F(" Policies "),Mt=n("span",{class:"font-medium text-light-blue-vivid-400"},"\xA0/",-1),zt={class:"flex max-w-6xl mb-2"},Wt={class:"max-w-6xl overflow-hidden bg-white rounded shadow"},Gt={key:0,class:"flex items-center justify-between p-5 pl-8 bg-yellow-200"},Yt={class:"flex"},Qt=F(" This policy is deleted "),Jt={key:1,class:"flex items-center justify-between p-5 pl-8 bg-red-vivid-200"},Kt={class:"flex items-center"},Xt=n("div",{class:"text-lg"},"This policy does not have any policyholders",-1),Zt={class:"p-8"},eo={class:"mb-5"},to={class:"mb-5"},oo={class:"mb-5"},lo=["value"],so={class:"mb-5"},ao={class:"mb-5"},no=n("div",{class:"text-sm text-left text-cool-grey-600"},"Period of Insurance",-1),ro=F(" Policyholders "),io={class:"flex items-center justify-between px-8 py-4 bg-cool-grey-50"},uo={class:"flex items-baseline"},co={key:0,class:"mr-5 italic text-cool-grey-400"},po=F(" Update policy "),fo=F(" Restore Policy"),mo=F(" Are you sure you want to restore this policy?"),vo=F(" Delete Policy"),yo=F(" Are you sure you want to delete the policy?"),ho=F("Add Policyholder"),bo={layout:Xe},Oo=Object.assign(bo,{__name:"Edit",props:{errors:{type:Object,required:!0},policy:{type:Object,required:!0},fields:{type:Array,required:!1,default(){return[]}},users:{type:Array,required:!0}},setup(e){var m;const o=e,t=_e({number:o.policy.number,contacts:o.policy.contacts,created_at:new Date(o.policy.created_at),period:[new Date(o.policy.period_start),new Date(o.policy.period_end)],fields:(m=o.policy.fields)!=null?m:[],agent_id:o.policy.agent_id,premium:Number(o.policy.premium.amount)}),s=y(!1),a=y(!1),l=y(!1);function r(){t.transform(b=>({...b,period_start:b.period[0],period_end:b.period[1]})).put(route("policies.update",o.policy.id))}function u(){t.delete(route("policies.destroy",o.policy.id)),s.value=!1}function f(){t.put(route("policies.restore",o.policy.id)),a.value=!1}function p(b){t.contacts.push(b),l.value=!1}function g(b){window.open(b.link,"_blank").focus()}return(b,i)=>{const D=pe("InertiaHead"),Q=pe("InertiaLink");return w(),k(j,null,[n("div",Ut,[v(D,{title:"Edit Policy"}),n("h1",null,[v(Q,{class:"text-light-blue-vivid-400 hover:text-light-blue-vivid-600",href:"/policies"},{default:C(()=>[qt]),_:1}),Mt,F(" "+S(d(t).number),1)])]),n("div",zt,[v(Nt,{policy:e.policy},null,8,["policy"])]),n("div",Wt,[e.policy.deleted_at?(w(),k("div",Gt,[n("div",Yt,[v(d(st),{class:"w-5 h-5 mr-2"}),Qt]),n("button",{class:"btn hover:underline",onClick:i[0]||(i[0]=c=>a.value=!0)},"Restore")])):L("",!0),d(t).contacts.length===0?(w(),k("div",Jt,[n("div",Kt,[v(d(at),{class:"w-5 h-5 mr-2"}),Xt])])):L("",!0),n("div",Zt,[n("div",eo,[v(N,{for:"number",value:"Policy Number"}),v(et,{id:"number",modelValue:d(t).number,"onUpdate:modelValue":i[1]||(i[1]=c=>d(t).number=c),type:"text",class:"block w-full"},null,8,["modelValue"]),v(le,{message:d(t).errors.number},null,8,["message"])]),n("div",to,[v(N,{value:"Date Issued"}),v(d(fe),{modelValue:d(t).created_at,"onUpdate:modelValue":i[2]||(i[2]=c=>d(t).created_at=c),readonly:!0},null,8,["modelValue"])]),n("div",oo,[v(N,{value:"Assigned Agent"}),xe(n("select",{id:"agent","onUpdate:modelValue":i[3]||(i[3]=c=>d(t).agent_id=c),class:"mt-1 mr-5 border rounded border-cool-grey-200"},[(w(!0),k(j,null,we(e.users,c=>(w(),k("option",{key:c.id,value:c.id},S(c.name),9,lo))),128))],512),[[Ne,d(t).agent_id]])]),n("div",so,[v(N,{value:"Premium"}),v(qe,{id:"premium",modelValue:d(t).premium,"onUpdate:modelValue":i[4]||(i[4]=c=>d(t).premium=c),options:{currency:b.$attrs.currency.code,valueScaling:"precision"},class:"mt-1 mr-5 border rounded border-cool-grey-200"},null,8,["modelValue","options"]),v(le,{message:d(t).errors.premium},null,8,["message"])]),n("div",ao,[no,v(d(fe),{modelValue:d(t).period,"onUpdate:modelValue":i[5]||(i[5]=c=>d(t).period=c),"selection-mode":"range"},null,8,["modelValue"])]),v(Me,{class:"mb-5",fields:d(t).fields,policy:e.policy,onFieldAdded:i[6]||(i[6]=c=>d(t).fields.push(c))},null,8,["fields","policy"]),d(t).contacts.length>0?(w(),Ue(ze,{key:0,contacts:d(t).contacts,class:"mb-5",removable:"",onContactClicked:g},{default:C(()=>[ro]),_:1},8,["contacts"])):L("",!0),n("button",{class:"btn",onClick:i[7]||(i[7]=c=>l.value=!0)},"Add Policyholder")]),n("div",io,[e.policy.deleted_at?L("",!0):(w(),k("button",{key:0,class:"text-red-vivid-600 hover:underline",tabindex:"-1",type:"button",onClick:i[8]||(i[8]=c=>s.value=!0)}," Delete policy ")),n("div",uo,[d(t).isDirty?(w(),k("div",co," Unsaved Changes ")):L("",!0),v(Ze,{class:"btn btn-primary",type:"submit",loading:d(t).processing,onClick:r},{default:C(()=>[po]),_:1},8,["loading"])])])]),v(ye,{show:a.value,onClose:i[10]||(i[10]=c=>a.value=!1)},{title:C(()=>[fo]),content:C(()=>[mo]),footer:C(()=>[n("button",{class:"btn",onClick:i[9]||(i[9]=c=>a.value=!1)},"Cancel"),n("button",{class:"ml-2 btn btn-danger",onClick:f},"Restore")]),_:1},8,["show"]),v(ye,{show:s.value,onClose:i[12]||(i[12]=c=>s.value=!1)},{title:C(()=>[vo]),content:C(()=>[yo]),footer:C(()=>[n("button",{class:"btn",onClick:i[11]||(i[11]=c=>s.value=!1)},"Cancel"),n("button",{class:"ml-2 btn btn-danger",onClick:u},"Delete Policy")]),_:1},8,["show"]),v(lt,{show:l.value,onClose:i[14]||(i[14]=c=>l.value=!1)},{title:C(()=>[ho]),content:C(()=>[v(We,{class:"m-4",onSelected:p})]),footer:C(()=>[n("button",{class:"btn",onClick:i[13]||(i[13]=c=>l.value=!1)},"Close")]),_:1},8,["show"])],64)}}});export{Oo as default};
