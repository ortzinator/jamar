import{P as p,r as x,b as n,c as r,f as a,w as t,d as o,u as s,F as w,e as C,h as u,t as g,i as _,g as l,D as G,J as H}from"./app.cdfe58ca.js";import{_ as K}from"./ActionMessage.1e7bb2fa.js";import{_ as j}from"./ActionSection.7f004498.js";import{_ as B}from"./ConfirmationModal.724552c6.js";import{_ as P}from"./DangerButton.7f5b5afb.js";import{_ as Q}from"./DialogModal.85f2130b.js";import{_ as W}from"./FormSection.914c9cab.js";import{_ as L}from"./InputError.30eee039.js";import{_ as z}from"./InputLabel.571382d5.js";import{_ as F}from"./PrimaryButton.3b677eee.js";import{_ as $}from"./SecondaryButton.2230c3d9.js";import{S}from"./SectionBorder.956e3d00.js";import{_ as X}from"./TextInput.94eddcdc.js";import"./SectionTitle.e2c47d8e.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Modal.1d09815d.js";const Y={key:0},Z=l(" Add Team Member "),ee=l(" Add a new team member to your team, allowing them to collaborate with you. "),te=o("div",{class:"col-span-6"},[o("div",{class:"max-w-xl text-sm text-gray-600 dark:text-gray-400"}," Please provide the email address of the person you would like to add to this team. ")],-1),se={class:"col-span-6 sm:col-span-4"},oe={key:0,class:"col-span-6 lg:col-span-4"},ae={class:"relative z-0 mt-1 border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer"},ne=["onClick"],re={class:"flex items-center"},le={key:0,class:"ml-2 h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ie=o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),de=[ie],ce={class:"mt-2 text-xs text-gray-600 dark:text-gray-400 text-left"},me=l(" Added. "),ue=l(" Add "),_e={key:1},ve=l(" Pending Team Invitations "),fe=l(" These people have been invited to your team and have been sent an invitation email. They may join the team by accepting the email invitation. "),ge={class:"space-y-6"},be={class:"text-gray-600 dark:text-gray-400"},he={class:"flex items-center"},ye=["onClick"],ke={key:2},pe=l(" Team Members "),xe=l(" All of the people that are part of this team. "),we={class:"space-y-6"},Ce={class:"flex items-center"},Te=["src","alt"],Re={class:"ml-4 dark:text-white"},Me={class:"flex items-center"},$e=["onClick"],Se={key:1,class:"ml-2 text-sm text-gray-400"},Ae=["onClick"],je=l(" Manage Role "),Be={key:0},Pe={class:"relative z-0 mt-1 border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer"},Le=["onClick"],ze={class:"flex items-center"},Fe={key:0,class:"ml-2 h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Ve=o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Ne=[Ve],Oe={class:"mt-2 text-xs text-gray-600 dark:text-gray-400"},De=l(" Cancel "),Ee=l(" Save "),Ie=l(" Leave Team "),Je=l(" Are you sure you would like to leave this team? "),Ue=l(" Cancel "),qe=l(" Leave "),Ge=l(" Remove Team Member "),He=l(" Are you sure you would like to remove this person from the team? "),Ke=l(" Cancel "),Qe=l(" Remove "),ut={__name:"TeamMemberManager",props:{team:Object,availableRoles:Array,userPermissions:Object},setup(i){const h=i,c=p({email:"",role:null}),v=p({role:null}),T=p({}),R=p({}),y=x(!1),M=x(null),k=x(!1),b=x(null),V=()=>{c.post(route("team-members.store",h.team),{errorBag:"addTeamMember",preserveScroll:!0,onSuccess:()=>c.reset()})},N=m=>{G.delete(route("team-invitations.destroy",m),{preserveScroll:!0})},O=m=>{M.value=m,v.role=m.membership.role,y.value=!0},D=()=>{v.put(route("team-members.update",[h.team,M.value]),{preserveScroll:!0,onSuccess:()=>y.value=!1})},E=()=>{k.value=!0},I=()=>{T.delete(route("team-members.destroy",[h.team,H().props.user]))},J=m=>{b.value=m},U=()=>{R.delete(route("team-members.destroy",[h.team,b.value]),{errorBag:"removeTeamMember",preserveScroll:!0,preserveState:!0,onSuccess:()=>b.value=null})},A=m=>h.availableRoles.find(d=>d.key===m).name;return(m,d)=>(n(),r("div",null,[i.userPermissions.canAddTeamMembers?(n(),r("div",Y,[a(S),a(W,{onSubmitted:V},{title:t(()=>[Z]),description:t(()=>[ee]),form:t(()=>[te,o("div",se,[a(z,{for:"email",value:"Email"}),a(X,{id:"email",modelValue:s(c).email,"onUpdate:modelValue":d[0]||(d[0]=e=>s(c).email=e),type:"email",class:"mt-1 block w-full"},null,8,["modelValue"]),a(L,{message:s(c).errors.email,class:"mt-2"},null,8,["message"])]),i.availableRoles.length>0?(n(),r("div",oe,[a(z,{for:"roles",value:"Role"}),a(L,{message:s(c).errors.role,class:"mt-2"},null,8,["message"]),o("div",ae,[(n(!0),r(w,null,C(i.availableRoles,(e,f)=>(n(),r("button",{key:e.key,type:"button",class:u(["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-600",{"border-t border-gray-200 dark:border-gray-700 focus:border-none rounded-t-none":f>0,"rounded-b-none":f!=Object.keys(i.availableRoles).length-1}]),onClick:q=>s(c).role=e.key},[o("div",{class:u({"opacity-50":s(c).role&&s(c).role!=e.key})},[o("div",re,[o("div",{class:u(["text-sm text-gray-600 dark:text-gray-400",{"font-semibold":s(c).role==e.key}])},g(e.name),3),s(c).role==e.key?(n(),r("svg",le,de)):_("",!0)]),o("div",ce,g(e.description),1)],2)],10,ne))),128))])])):_("",!0)]),actions:t(()=>[a(K,{on:s(c).recentlySuccessful,class:"mr-3"},{default:t(()=>[me]),_:1},8,["on"]),a(F,{class:u({"opacity-25":s(c).processing}),disabled:s(c).processing},{default:t(()=>[ue]),_:1},8,["class","disabled"])]),_:1})])):_("",!0),i.team.team_invitations.length>0&&i.userPermissions.canAddTeamMembers?(n(),r("div",_e,[a(S),a(j,{class:"mt-10 sm:mt-0"},{title:t(()=>[ve]),description:t(()=>[fe]),content:t(()=>[o("div",ge,[(n(!0),r(w,null,C(i.team.team_invitations,e=>(n(),r("div",{key:e.id,class:"flex items-center justify-between"},[o("div",be,g(e.email),1),o("div",he,[i.userPermissions.canRemoveTeamMembers?(n(),r("button",{key:0,class:"cursor-pointer ml-6 text-sm text-red-500 focus:outline-none",onClick:f=>N(e)}," Cancel ",8,ye)):_("",!0)])]))),128))])]),_:1})])):_("",!0),i.team.users.length>0?(n(),r("div",ke,[a(S),a(j,{class:"mt-10 sm:mt-0"},{title:t(()=>[pe]),description:t(()=>[xe]),content:t(()=>[o("div",we,[(n(!0),r(w,null,C(i.team.users,e=>(n(),r("div",{key:e.id,class:"flex items-center justify-between"},[o("div",Ce,[o("img",{class:"w-8 h-8 rounded-full",src:e.profile_photo_url,alt:e.name},null,8,Te),o("div",Re,g(e.name),1)]),o("div",Me,[i.userPermissions.canAddTeamMembers&&i.availableRoles.length?(n(),r("button",{key:0,class:"ml-2 text-sm text-gray-400 underline",onClick:f=>O(e)},g(A(e.membership.role)),9,$e)):i.availableRoles.length?(n(),r("div",Se,g(A(e.membership.role)),1)):_("",!0),m.$page.props.user.id===e.id?(n(),r("button",{key:2,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:E}," Leave ")):i.userPermissions.canRemoveTeamMembers?(n(),r("button",{key:3,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:f=>J(e)}," Remove ",8,Ae)):_("",!0)])]))),128))])]),_:1})])):_("",!0),a(Q,{show:y.value,onClose:d[2]||(d[2]=e=>y.value=!1)},{title:t(()=>[je]),content:t(()=>[M.value?(n(),r("div",Be,[o("div",Pe,[(n(!0),r(w,null,C(i.availableRoles,(e,f)=>(n(),r("button",{key:e.key,type:"button",class:u(["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-600",{"border-t border-gray-200 dark:border-gray-700 focus:border-none rounded-t-none":f>0,"rounded-b-none":f!==Object.keys(i.availableRoles).length-1}]),onClick:q=>s(v).role=e.key},[o("div",{class:u({"opacity-50":s(v).role&&s(v).role!==e.key})},[o("div",ze,[o("div",{class:u(["text-sm text-gray-600 dark:text-gray-400",{"font-semibold":s(v).role===e.key}])},g(e.name),3),s(v).role==e.key?(n(),r("svg",Fe,Ne)):_("",!0)]),o("div",Oe,g(e.description),1)],2)],10,Le))),128))])])):_("",!0)]),footer:t(()=>[a($,{onClick:d[1]||(d[1]=e=>y.value=!1)},{default:t(()=>[De]),_:1}),a(F,{class:u(["ml-3",{"opacity-25":s(v).processing}]),disabled:s(v).processing,onClick:D},{default:t(()=>[Ee]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(B,{show:k.value,onClose:d[4]||(d[4]=e=>k.value=!1)},{title:t(()=>[Ie]),content:t(()=>[Je]),footer:t(()=>[a($,{onClick:d[3]||(d[3]=e=>k.value=!1)},{default:t(()=>[Ue]),_:1}),a(P,{class:u(["ml-3",{"opacity-25":s(T).processing}]),disabled:s(T).processing,onClick:I},{default:t(()=>[qe]),_:1},8,["class","disabled"])]),_:1},8,["show"]),a(B,{show:b.value,onClose:d[6]||(d[6]=e=>b.value=null)},{title:t(()=>[Ge]),content:t(()=>[He]),footer:t(()=>[a($,{onClick:d[5]||(d[5]=e=>b.value=null)},{default:t(()=>[Ke]),_:1}),a(P,{class:u(["ml-3",{"opacity-25":s(R).processing}]),disabled:s(R).processing,onClick:U},{default:t(()=>[Qe]),_:1},8,["class","disabled"])]),_:1},8,["show"])]))}};export{ut as default};
