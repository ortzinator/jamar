import{T as w,k as g,C as V,r as C,b as n,c as B,d as e,f as u,l as m,u as a,i as h,E,Q as I,w as N,F as $,a as p}from"./app.3b878662.js";import{A as j}from"./AppLayout.b9e59cce.js";import{_ as S,a as F}from"./FilterSelect.2ff9519f.js";import{_ as L}from"./DataTable.ca903f3b.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./hidden.fe01049c.js";import"./form.c56a6aaf.js";const O={class:"py-5 font-bold"},U=e("h1",null,"Employees",-1),q={class:"flex justify-between mb-4"},A={class:"flex mr-4"},H={class:"flex bg-white rounded shadow cursor-default"},R=e("span",null,"Create",-1),T=e("span",{class:"hidden md:inline"}," New User",-1),D={class:"overflow-x-auto bg-white rounded shadow"},M={layout:j},X=Object.assign(M,{__name:"Index",props:{users:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(o){var i,d;const c=o,s=w({search:(i=c.filters.search)!=null?i:"",trashed:(d=c.filters.trashed)!=null?d:""}),f=_.debounce(()=>{s.transform(t=>_.pickBy(t)).get("/users",{only:["users"],preserveState:!0,preserveScroll:!0})},400),v=g(()=>({search:s.search,trashed:s.trashed}));function y(){s.search="",s.trashed=null}V(v,()=>f());const b=C([{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Role",value:"role"}]);return(t,r)=>{const x=p("InertiaHead"),k=p("InertiaLink");return n(),B($,null,[e("div",O,[u(x,{title:"Employees"}),U]),e("div",null,[e("div",q,[e("div",A,[e("div",H,[t.$attrs.permissions.includes("update users")?(n(),m(S,{key:0,modelValue:a(s).trashed,"onUpdate:modelValue":r[0]||(r[0]=l=>a(s).trashed=l)},null,8,["modelValue"])):h("",!0),E(e("input",{"onUpdate:modelValue":r[1]||(r[1]=l=>a(s).search=l),type:"text",placeholder:"Search...",class:"w-full border-0 rounded-r"},null,512),[[I,a(s).search]])]),e("button",{class:"ml-3 text-sm text-cool-grey-500 hover:text-cool-grey-700 focus:text-light-blue-vivid-500",type:"button",onClick:y}," Reset ")]),t.$attrs.permissions.includes("create users")?(n(),m(k,{key:0,class:"btn btn-primary",href:t.route("users.create")},{default:N(()=>[R,T]),_:1},8,["href"])):h("",!0)]),e("div",D,[u(L,{columns:b.value,"data-source":o.users.data,"route-name":"users.show"},null,8,["columns","data-source"])]),u(F,{links:o.users.meta.links},null,8,["links"])])],64)}}});export{X as default};
