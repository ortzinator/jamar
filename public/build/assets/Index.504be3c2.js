import{Q as w,r as g,k as C,D as V,b as m,c as I,d as e,f as a,l as B,u as o,i as $,I as j,R as F,w as l,F as N,a as h}from"./app.2e6f92fa.js";import{A as S}from"./NewLayout.829ebda0.js";import{_ as A,a as L}from"./FilterSelect.24862de0.js";import{_ as O}from"./DataTable.76e0f396.js";import{_ as p}from"./Highlighter.86e87401.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./hidden.7d711a76.js";import"./form.c56a6aaf.js";import"./util.e8b714b3.js";const q={class:"py-5 font-bold"},D=e("h1",null,"Contacts",-1),H={class:"flex justify-between mb-4"},R={class:"flex mr-4"},U={class:"flex bg-white rounded shadow cursor-default"},E=e("span",null,"Create",-1),M=e("span",{class:"hidden md:inline"}," Contact",-1),P={class:""},Q={class:"overflow-x-auto bg-white rounded shadow"},T={layout:S},te=Object.assign(T,{__name:"Index",props:{contacts:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(c){var d,u;const i=c,t=w({search:(d=i.filters.search)!=null?d:"",trashed:(u=i.filters.trashed)!=null?u:""}),f=g([{text:"Name",value:"name"},{text:"Address",value:"address"},{text:"Policies",value:"policies_count"}]),v=_.debounce(()=>{t.transform(r=>_.pickBy(r)).get("/contacts",{only:["contacts"],preserveState:!0,preserveScroll:!0})},400),x=C(()=>({search:t.search,trashed:t.trashed}));function b(){t.search="",t.trashed=null}return V(x,()=>v()),(r,n)=>{const y=h("InertiaHead"),k=h("InertiaLink");return m(),I(N,null,[e("div",q,[a(y,{title:"Contacts"}),D]),e("div",null,[e("div",H,[e("div",R,[e("div",U,[r.$attrs.permissions.includes("update contacts")?(m(),B(A,{key:0,modelValue:o(t).trashed,"onUpdate:modelValue":n[0]||(n[0]=s=>o(t).trashed=s)},null,8,["modelValue"])):$("",!0),j(e("input",{"onUpdate:modelValue":n[1]||(n[1]=s=>o(t).search=s),type:"text",placeholder:"Search...",class:"w-full border-0 rounded-r"},null,512),[[F,o(t).search]])]),e("button",{class:"ml-3 text-sm text-cool-grey-500 hover:text-cool-grey-700 focus:text-light-blue-vivid-500",type:"button",onClick:b}," Reset ")]),a(k,{class:"btn btn-primary",href:r.route("contacts.create")},{default:l(()=>[E,M]),_:1},8,["href"])]),e("div",P,[e("div",Q,[a(O,{"route-name":"contacts.show",columns:f.value,"data-source":c.contacts.data},{["column.name"]:l(({value:s})=>[a(p,{text:s,term:o(t).search},null,8,["text","term"])]),["column.address"]:l(({value:s})=>[a(p,{text:s,term:o(t).search},null,8,["text","term"])]),_:2},1032,["columns","data-source"])]),a(L,{links:c.contacts.meta.links},null,8,["links"])])])],64)}}});export{te as default};
