import{Q as w,k as g,D as V,r as I,b as n,c as B,d as e,f as u,l as m,u as a,i as h,I as C,R as N,w as $,F as j,a as p}from"./app.2e6f92fa.js";import{A as E}from"./NewLayout.829ebda0.js";import{_ as F,a as S}from"./FilterSelect.24862de0.js";import{_ as L}from"./DataTable.76e0f396.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./hidden.7d711a76.js";import"./form.c56a6aaf.js";const O={class:"py-5 font-bold"},R=e("h1",null,"Employees",-1),U={class:"flex justify-between mb-4"},q={class:"flex mr-4"},A={class:"flex bg-white rounded shadow cursor-default"},D=e("span",null,"Create",-1),H=e("span",{class:"hidden md:inline"}," New User",-1),M={class:"overflow-x-auto bg-white rounded shadow"},Q={layout:E},X=Object.assign(Q,{__name:"Index",props:{users:{type:Object,required:!0},filters:{type:Object,required:!0}},setup(o){var i,d;const c=o,s=w({search:(i=c.filters.search)!=null?i:"",trashed:(d=c.filters.trashed)!=null?d:""}),f=_.debounce(()=>{s.transform(t=>_.pickBy(t)).get("/users",{only:["users"],preserveState:!0,preserveScroll:!0})},400),v=g(()=>({search:s.search,trashed:s.trashed}));function y(){s.search="",s.trashed=null}V(v,()=>f());const b=I([{text:"Name",value:"name"},{text:"Email",value:"email"},{text:"Role",value:"role"}]);return(t,r)=>{const x=p("InertiaHead"),k=p("InertiaLink");return n(),B(j,null,[e("div",O,[u(x,{title:"Employees"}),R]),e("div",null,[e("div",U,[e("div",q,[e("div",A,[t.$attrs.permissions.includes("update users")?(n(),m(F,{key:0,modelValue:a(s).trashed,"onUpdate:modelValue":r[0]||(r[0]=l=>a(s).trashed=l)},null,8,["modelValue"])):h("",!0),C(e("input",{"onUpdate:modelValue":r[1]||(r[1]=l=>a(s).search=l),type:"text",placeholder:"Search...",class:"w-full border-0 rounded-r"},null,512),[[N,a(s).search]])]),e("button",{class:"ml-3 text-sm text-cool-grey-500 hover:text-cool-grey-700 focus:text-light-blue-vivid-500",type:"button",onClick:y}," Reset ")]),t.$attrs.permissions.includes("create users")?(n(),m(k,{key:0,class:"btn btn-primary",href:t.route("users.create")},{default:$(()=>[D,H]),_:1},8,["href"])):h("",!0)]),e("div",M,[u(L,{columns:b.value,"data-source":o.users.data,"route-name":"users.show"},null,8,["columns","data-source"])]),u(S,{links:o.users.meta.links},null,8,["links"])])],64)}}});export{X as default};
