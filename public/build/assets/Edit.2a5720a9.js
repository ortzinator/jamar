import{r as k,s as A,k as U,x as S,o as z,y as M,u,q as I,p as D,F as P,b as y,c as g,e as J,f as i,w as p,d as a,h as E,t as T,P as Q,g as b,i as V,a as C}from"./app.cdfe58ca.js";import{t as B,P as j,e as W,d as X,f as L,A as Z}from"./AppLayout.76e98e80.js";import{_ as ee}from"./LoadingButton.fb60d376.js";import{P as te,S as Oe}from"./description.a775b75e.js";import{m as se,p as le}from"./hidden.d7d9f535.js";import{p as oe}from"./form.c56a6aaf.js";import{_ as O}from"./TextInput.94eddcdc.js";import{_ as $}from"./InputLabel.571382d5.js";import{_ as R}from"./ConfirmationModal.724552c6.js";import{r as ae}from"./TrashIcon.ac50e473.js";import"./plugin-vue_export-helper.21dcd24c.js";import"./Modal.1d09815d.js";let N=Symbol("LabelContext");function q(){let l=I(N,null);if(l===null){let o=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(o,q),o}return l}function ne({slot:l={},name:o="Label",props:t={}}={}){let s=k([]);function n(r){return s.value.push(r),()=>{let d=s.value.indexOf(r);d!==-1&&s.value.splice(d,1)}}return A(N,{register:n,slot:l,name:o,props:t}),U(()=>s.value.length>0?s.value.join(" "):void 0)}let Fe=S({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},setup(l,{slots:o,attrs:t}){let s=q(),n=`headlessui-label-${B()}`;return z(()=>M(s.register(n))),()=>{let{name:r="Label",slot:d={},props:f={}}=s,{passive:v,...e}=l,h={...Object.entries(f).reduce((w,[_,m])=>Object.assign(w,{[_]:u(m)}),{}),id:n};return v&&(delete h.onClick,delete e.onClick),j({ourProps:h,theirProps:e,slot:d,attrs:t,slots:o,name:r})}}}),K=Symbol("GroupContext");S({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(l,{slots:o,attrs:t}){let s=k(null),n=ne({name:"SwitchLabel",props:{onClick(){!s.value||(s.value.click(),s.value.focus({preventScroll:!0}))}}}),r=te({name:"SwitchDescription"});return A(K,{switchRef:s,labelledby:n,describedby:r}),()=>j({theirProps:l,ourProps:{},slot:{},slots:o,attrs:t,name:"SwitchGroup"})}});let re=S({name:"Switch",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:!1},name:{type:String,optional:!0},value:{type:String,optional:!0}},inheritAttrs:!1,setup(l,{emit:o,attrs:t,slots:s,expose:n}){let r=I(K,null),d=`headlessui-switch-${B()}`;function f(){o("update:modelValue",!l.modelValue)}let v=k(null),e=r===null?v:r.switchRef,h=W(U(()=>({as:l.as,type:t.type})),e);n({el:e,$el:e});function w(c){c.preventDefault(),f()}function _(c){c.key===L.Space?(c.preventDefault(),f()):c.key===L.Enter&&oe(c.currentTarget)}function m(c){c.preventDefault()}return()=>{let{name:c,value:F,modelValue:x,...G}=l,H={checked:x},Y={id:d,ref:e,role:"switch",type:h.value,tabIndex:0,"aria-checked":x,"aria-labelledby":r==null?void 0:r.labelledby.value,"aria-describedby":r==null?void 0:r.describedby.value,onClick:w,onKeyup:_,onKeypress:m};return D(P,[c!=null&&x!=null?D(se,X({features:le.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:x,name:c,value:F})):null,j({ourProps:Y,theirProps:{...t,...G},slot:H,attrs:t,slots:s,name:"Switch"})])}}});const ie={class:"ml-4"},ue={__name:"RoleSelector",props:{modelValue:{type:Array,required:!0}},emits:["update:modelValue"],setup(l,{emit:o}){const t=l,s=U({get:()=>t.modelValue,set:n=>{o("update:modelValue",n)}});return(n,r)=>(y(!0),g(P,null,J(u(s),d=>(y(),g("div",{key:d},[i(u(re),{modelValue:d.enabled,"onUpdate:modelValue":f=>d.enabled=f,class:E([d.enabled?"bg-light-blue-vivid-900":"bg-light-blue-vivid-700","relative inline-flex items-center h-6 rounded-full w-11"])},{default:p(()=>[a("span",{class:E([d.enabled?"translate-x-6":"translate-x-1","inline-block w-4 h-4 transform bg-white rounded-full"])},null,2)]),_:2},1032,["modelValue","onUpdate:modelValue","class"]),a("span",ie,T(d.name),1)]))),128))}},de={class:"py-5 font-bold"},me=b(" Employees "),ce=a("span",{class:"font-medium text-light-blue-vivid-400"},"\xA0/",-1),pe={class:"max-w-3xl overflow-hidden bg-white rounded shadow"},fe={key:0,class:"flex items-center justify-between p-5 pl-8 bg-yellow-200"},be={class:"flex"},ve=b(" This user is deleted "),_e={class:"p-8"},he={class:"mb-5"},ye={class:"mb-5"},ge={class:"mb-5"},we={class:"flex items-center justify-between px-8 py-4 bg-cool-grey-50"},ke={class:"flex items-baseline"},xe={key:0,class:"mr-5 italic text-cool-grey-400"},Ve=b(" Update user "),Ce=b(" Restore User "),$e=b(" Are you sure you want to restore this user? "),Ue=b(" Delete User "),Se=b(" Are you sure you want to delete this user? "),Pe={layout:Z},Ge=Object.assign(Pe,{__name:"Edit",props:{errors:{type:Object,required:!0},editedUser:{type:Object,required:!0}},setup(l){const o=l,t=Q({name:o.editedUser.name,email:o.editedUser.email,roles:o.editedUser.roles}),s=k(!1),n=k(!1);function r(){t.transform(v=>({...v,roles:v.roles.filter(e=>e.enabled)})).put(route("users.update",o.editedUser.id))}function d(){t.delete(route("users.destroy",o.editedUser.id)),s.value=!1}function f(){t.put(route("users.restore",o.editedUser.id)),n.value=!1}return(v,e)=>{const h=C("InertiaHead"),w=C("InertiaLink"),_=C("TextInputError");return y(),g(P,null,[a("div",de,[i(h,{title:"Edit User"}),a("h1",null,[i(w,{class:"text-light-blue-vivid-400 hover:text-light-blue-vivid-600",href:"/users"},{default:p(()=>[me]),_:1}),ce,b(" "+T(u(t).name),1)])]),a("div",pe,[l.editedUser.deleted_at?(y(),g("div",fe,[a("div",be,[i(u(ae),{class:"w-5 h-5 mr-2"}),ve]),a("button",{class:"btn hover:underline",onClick:e[0]||(e[0]=m=>n.value=!0)},"Restore")])):V("",!0),a("div",_e,[a("div",he,[i($,{for:"name",value:"Name"}),i(O,{id:"name",modelValue:u(t).name,"onUpdate:modelValue":e[1]||(e[1]=m=>u(t).name=m),type:"text",class:"block w-full"},null,8,["modelValue"]),i(_,{message:u(t).errors.name},null,8,["message"])]),a("div",ye,[i($,{for:"email",value:"Email"}),i(O,{id:"email",modelValue:u(t).email,"onUpdate:modelValue":e[2]||(e[2]=m=>u(t).email=m),type:"text",class:"block w-full"},null,8,["modelValue"]),i(_,{message:u(t).errors.email},null,8,["message"])]),a("div",ge,[i($,{value:"Roles"}),i(ue,{modelValue:u(t).roles,"onUpdate:modelValue":e[3]||(e[3]=m=>u(t).roles=m)},null,8,["modelValue"]),i(_,{message:u(t).errors.roles},null,8,["message"])])]),a("div",we,[l.editedUser.deleted_at?V("",!0):(y(),g("button",{key:0,class:"text-red-vivid-600 hover:underline",tabindex:"-1",type:"button",onClick:e[4]||(e[4]=m=>s.value=!0)}," Delete user ")),a("div",ke,[u(t).isDirty?(y(),g("div",xe," Unsaved Changes ")):V("",!0),i(ee,{class:"btn btn-primary",type:"submit",loading:u(t).processing,onClick:r},{default:p(()=>[Ve]),_:1},8,["loading"])])])]),i(R,{show:n.value,onClose:e[6]||(e[6]=m=>n.value=!1)},{title:p(()=>[Ce]),content:p(()=>[$e]),footer:p(()=>[a("button",{class:"btn",onClick:e[5]||(e[5]=m=>n.value=!1)},"Cancel"),a("button",{class:"ml-2 btn btn-danger",onClick:f},"Restore")]),_:1},8,["show"]),i(R,{show:s.value,onClose:e[8]||(e[8]=m=>s.value=!1)},{title:p(()=>[Ue]),content:p(()=>[Se]),footer:p(()=>[a("button",{class:"btn",onClick:e[7]||(e[7]=m=>s.value=!1)},"Cancel"),a("button",{class:"ml-2 btn btn-danger",onClick:d},"Delete User")]),_:1},8,["show"])],64)}}});export{Ge as default};
